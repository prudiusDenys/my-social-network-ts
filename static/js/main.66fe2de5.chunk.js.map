{"version":3,"sources":["common/Avatar/avatar.jpg","components/Sidebar/Navbar/Navbar.module.css","components/Sidebar/Sidebar.module.css","components/Sidebar/Navbar/Users/Users.module.css","assets/images/user.png","assets/images/preloader.gif","components/Header/Search/HeaderSearch.module.css","components/Header/HeaderProfileLink/HeaderProfileLink.module.css","api/api.ts","serviceWorker.ts","redux/userReducer.ts","redux/authReducer.ts","redux/app-Reducer.ts","redux/redux-store.ts","components/Sidebar/Navbar/Navbar.tsx","components/Sidebar/Sidebar.tsx","components/Sidebar/Navbar/News/News.tsx","components/Sidebar/Navbar/Settings/Settings.tsx","components/Sidebar/Navbar/Music/Music.tsx","common/Pagination/Pagination.tsx","components/Sidebar/Navbar/Users/User.tsx","components/Sidebar/Navbar/Users/Users.tsx","redux/users-selectors.ts","components/Sidebar/Navbar/Users/UsersContainer.tsx","components/Header/Search/HeaderSearch.tsx","components/Header/HeaderProfileLink/HeaderProfileLink.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","App.tsx","hoc/WithSuspense.tsx","index.tsx","common/FormsControlls/FormsControlls.module.css","common/Pagination/Pagination.module.css","components/Header/Header.module.css","components/common/preloader/Preloader.tsx","common/FormsControlls/FormsControlls.tsx","utils/validators/validators.ts","redux/profileReducer.ts","redux/dialogsReducer.ts"],"names":["module","exports","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unFollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","initialState","users","totalUsersCount","isFetching","followingProgress","followSuccess","type","unFollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","isAuth","setUserData","getAuthUserData","id","initialized","reducers","combineReducers","dialogs","dialogsReducer","profile","profileReducer","usersPage","state","action","map","u","followed","count","filter","auth","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Navbar","className","classes","navbar","navList","to","navLink","activeClassName","active","Sidebar","sidebar","News","news","Settings","settings","Music","music","Pagination","props","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","btnPrev","onClick","p","selectedPage","e","onPageChanged","btnNext","User","user","src","photos","small","userPhoto","alt","disabled","some","name","Users","key","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingProgress","UsersContainer","pageNumber","this","Preloader","React","Component","connect","bind","items","totalCount","HeaderSearch","headerSearch","placeholder","HeaderProfileLink","headerProfileLink","href","avatar","Header","header","homeLink","logo","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","Field","validate","requiredField","component","Input","formSummaryError","message","messages","length","stopSubmit","_error","formData","DialogsContainer","lazy","App","initializeApp","path","render","fallback","withRouter","promise","Promise","all","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","preloader","style","width","height","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","restProps","value","maxLengthCreator","maxLength","postData","text","time","stateCopy","inputValue","addPostActionCreator","getUserProfile","setStatus","newMessageText","contactsData","avatarUrl","sentMessages","gotMessages","fullName","textAreaValue","addMessageActionCreator"],"mappings":"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","file":"static/js/main.66fe2de5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.5ed6acf2.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__3UFVu\",\"navLink\":\"Navbar_navLink__3xirS\",\"active\":\"Navbar_active__UZB3a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__2ZSfF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1309_\"};","module.exports = __webpack_public_path__ + \"static/media/user.c4aac36a.png\";","module.exports = __webpack_public_path__ + \"static/media/preloader.c7e1b7b5.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerSearch\":\"HeaderSearch_headerSearch__1v0ug\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerProfileLink\":\"HeaderProfileLink_headerProfileLink__arY8X\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\": \"ceb21197-0d60-4a74-81f0-474168f197a3\"\r\n\t}\r\n});\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage: number = 1, pageSize: number = 10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => response.data)\r\n\t},\r\n\tfollow(userId: number) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t},\r\n\tunFollow(userId: number) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t},\r\n\tgetProfile (userId: number){\r\n\t\tconsole.warn('obsolete method')\r\n\t\treturn profileAPI.getProfile(userId)\r\n\t}\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfile (userId: number){\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\tgetStatus(userId: number){\r\n\t\treturn instance.get('profile/status/' + userId)\r\n\t},\r\n\tupdateStatus(status: string){\r\n\t\t\t\treturn instance.put('profile/status',{status: status})\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\tme(){\r\n\t\treturn instance.get(`auth/me`,)\r\n\t},\r\n\tlogin(email: string, password: string, rememberMe = false){\r\n\t\treturn instance.post(`auth/login`,{email, password, rememberMe})\r\n\t},\r\n\tlogout(){\r\n\t\treturn instance.delete(`auth/login`)\r\n\t}\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Posts is cached for offline use.\" message.\n              console.log('Posts is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nexport type FollowType = {\r\n\ttype: 'FOLLOW'\r\n\tuserId: number\r\n}\r\nexport type UnFollowType = {\r\n\ttype: 'UNFOLLOW'\r\n\tuserId: number\r\n}\r\nexport type SetUsersType = {\r\n\ttype: 'SET_USERS',\r\n\tusers: Array<UsersObjType>\r\n}\r\nexport type ActionsType =\r\n\tFollowType\r\n\t| UnFollowType\r\n\t| SetUsersType\r\n\t| SetCurrentPageType\r\n\t| SetUsersTotalCountType\r\n\t| ToggleIsFetchingType\r\n\t| ToggleFollowingProgressType;\r\nexport type UsersType = {\r\n\tusers: Array<UsersObjType>\r\n\tpageSize: number\r\n\ttotalUsersCount: number\r\n\tcurrentPage: number\r\n\tisFetching: boolean\r\n\tfollowingProgress: Array<number>\r\n}\r\nexport type UsersObjType = {\r\n\tid: number\r\n\tphotos: PhotosType\r\n\tfollowed: boolean\r\n\tname: string\r\n\tstatus: string\r\n\tlocation: LocationType\r\n}\r\nexport type PhotosType = {\r\n\tsmall: string | undefined\r\n\tlarge: string | undefined\r\n}\r\nexport type LocationType = {\r\n\tcity: string\r\n\tcountry: string\r\n}\r\nexport type SetCurrentPageType = {\r\n\ttype: 'SET_CURRENT_PAGE'\r\n\tcurrentPage: number\r\n\r\n}\r\nexport type SetUsersTotalCountType = {\r\n\ttype: 'SET_TOTAL_USERS_COUNT'\r\n\tcount: number\r\n}\r\nexport type ToggleIsFetchingType = {\r\n\ttype: 'TOGGLE_IS_FETCHING'\r\n\tisFetching: boolean\r\n}\r\nexport type ToggleFollowingProgressType = {\r\n\ttype: typeof TOGGLE_IS_FOLLOWING_PROGRESS\r\n\tisFetching: boolean\r\n\tuserId: number\r\n}\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nconst initialState = {\r\n\tusers: [],\r\n\tpageSize: 5,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowingProgress: []\r\n};\r\n\r\nexport const userReducer = (state: UsersType = initialState, action: ActionsType) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(u => {\r\n\t\t\t\t\tif (u.id === action.userId) {\r\n\t\t\t\t\t\treturn {...u, followed: true}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn u;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tcase UNFOLLOW: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(u => {\r\n\t\t\t\t\tif (u.id === action.userId) {\r\n\t\t\t\t\t\treturn {...u, followed: false}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn u;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_USERS: {\r\n\t\t\treturn {...state, users: action.users}\r\n\t\t}\r\n\t\tcase SET_CURRENT_PAGE: {\r\n\t\t\treturn {...state, currentPage: action.currentPage}\r\n\t\t}\r\n\t\tcase SET_TOTAL_USERS_COUNT: {\r\n\t\t\treturn {...state, totalUsersCount: action.count}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING: {\r\n\t\t\treturn {...state, isFetching: action.isFetching}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingProgress: action.isFetching\r\n\t\t\t\t\t? [...state.followingProgress, action.userId]\r\n\t\t\t\t\t: state.followingProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId: number): FollowType => {\r\n\treturn {\r\n\t\ttype: FOLLOW,\r\n\t\tuserId\r\n\t}\r\n}\r\nexport const unFollowSuccess = (userId: number): UnFollowType => {\r\n\treturn {\r\n\t\ttype: UNFOLLOW,\r\n\t\tuserId\r\n\t}\r\n}\r\nexport const setUsers = (users: Array<UsersObjType>): SetUsersType => {\r\n\treturn {\r\n\t\ttype: SET_USERS,\r\n\t\tusers\r\n\t}\r\n}\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageType => {\r\n\treturn {\r\n\t\ttype: SET_CURRENT_PAGE,\r\n\t\tcurrentPage\r\n\t}\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetUsersTotalCountType => {\r\n\treturn {\r\n\t\ttype: SET_TOTAL_USERS_COUNT,\r\n\t\tcount: totalUsersCount\r\n\t}\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingType => {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FETCHING,\r\n\t\tisFetching\r\n\t}\r\n}\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number): ToggleFollowingProgressType => {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n\t\tisFetching,\r\n\t\tuserId\r\n\t}\r\n}\r\n\r\nexport const requestUsers = (currentPage: number, pageSize: number) => {\r\n\treturn async (dispatch: Function) => {\r\n\t\tdispatch(toggleIsFetching(true));\r\n\t\tdispatch(setCurrentPage(currentPage))\r\n\r\n\t\tlet data = await usersAPI.getUsers(currentPage, pageSize)\r\n\t\tdispatch(toggleIsFetching(false))\r\n\t\tdispatch(setUsers(data.items))\r\n\t\tdispatch(setTotalUsersCount(data.totalCount))\r\n\t}\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: Dispatch, userId: number, apiMethod: any, actionCreator: any) => {\r\n\tdispatch(toggleFollowingProgress(true, userId))\r\n\tlet response = await apiMethod(userId)\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: number) => {\r\n\treturn async (dispatch: Dispatch) => {\r\n\t\tlet apiMethod = usersAPI.follow.bind(usersAPI)\r\n\t\tfollowUnfollowFlow(dispatch, userId, apiMethod, followSuccess)\r\n\t}\r\n}\r\n\r\nexport const unFollow = (userId: number) => {\r\n\treturn async (dispatch: Dispatch) => {\r\n\t\tlet apiMethod = usersAPI.unFollow.bind(usersAPI)\r\n\t\tfollowUnfollowFlow(dispatch, userId, apiMethod, unFollowSuccess)\r\n\t}\r\n}","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nexport type ActionsType = SetUserDataType;\r\nexport type InitialStateType = {\r\n\tuserId: null | number\r\n\temail: null | string\r\n\tlogin: null | string\r\n\tisAuth: boolean\r\n\r\n}\r\nexport type SetUserDataType = {\r\n\ttype: typeof SET_USER_DATA\r\n\tdata: DataType\r\n}\r\ntype DataType = {\r\n\tuserId: null | number\r\n\temail: null | string\r\n\tlogin: null | string\r\n\tisAuth: boolean\r\n}\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nconst initialState: InitialStateType = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false\r\n};\r\n\r\nexport const authReducer = (state: InitialStateType = initialState, action: ActionsType) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.data\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean): SetUserDataType => {\r\n\treturn {type: SET_USER_DATA, data: {userId, email, login, isAuth}}\r\n}\r\n\r\nexport const getAuthUserData = () => async (dispatch: Function) => {\r\n\tlet response =  await authAPI.me()\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tlet {id, email, login} = response.data.data\r\n\t\t\tdispatch(setUserData(id, email, login, true))\r\n\t\t}\r\n}\r\n\r\nexport const login =  (email: string, password: string, rememberMe: boolean) => async (dispatch: Function) => {\r\n\tlet response = await authAPI.login(email, password, rememberMe)\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch(getAuthUserData())\r\n\t\t} else {\r\n\t\t\tlet message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n\t\t\tdispatch(stopSubmit('login', {_error: message}))\r\n\t\t}\r\n}\r\n\r\nexport const logout = () => async (dispatch: Function) => {\r\n\tlet response = await authAPI.logout()\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch(setUserData(null, null, null, false))\r\n\t\t}\r\n}","import {getAuthUserData} from \"./authReducer\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nexport type InitialStateType = {\r\n\tinitialized: false,\r\n\r\n}\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nconst initialState: InitialStateType = {\r\n\tinitialized: false,\r\n};\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action:any) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializedSuccess = () => {\r\n\treturn {type: INITIALIZED_SUCCESS}\r\n}\r\n\r\nexport const initializeApp = () => (dispatch: Function) => {\r\n\tlet promise = dispatch(getAuthUserData())\r\n\tPromise.all([promise])\r\n\t\t.then(()=>{\r\n\t\t\tdispatch(initializedSuccess());\r\n\t\t})\r\n}","import {dialogsReducer} from \"./dialogsReducer\";\r\nimport {profileReducer} from \"./profileReducer\";\r\nimport {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport {userReducer} from \"./userReducer\";\r\nimport {authReducer} from \"./authReducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport {appReducer} from \"./app-Reducer\";\r\n\r\nconst reducers = combineReducers({\r\n\t\tdialogs: dialogsReducer,\r\n\t\tprofile: profileReducer,\r\n\t\tusersPage: userReducer,\r\n\t\tauth: authReducer,\r\n\t\tform: formReducer,\r\n\tapp: appReducer\r\n\t}\r\n)\r\n\r\n\t// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport type rootReducers = ReturnType<typeof reducers>\r\n","import React from \"react\";\r\nimport classes from \"./Navbar.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<div className={classes.navbar}>\r\n\t\t\t<ul className={classes.navList}>\r\n\t\t\t\t<NavLink to=\"/profile\" className={classes.navLink}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveClassName={classes.active}>Profile</NavLink>\r\n\t\t\t\t<NavLink to=\"/dialogs\" className={classes.navLink}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveClassName={classes.active}>Messages</NavLink>\r\n\t\t\t\t<NavLink to=\"/users\" className={classes.navLink}\r\n\t\t\t\t\t\t\t\t activeClassName={classes.active}>Users</NavLink>\r\n\t\t\t\t<NavLink to=\"/news\" className={classes.navLink}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveClassName={classes.active}>News</NavLink>\r\n\t\t\t\t<NavLink to=\"/music\" className={classes.navLink}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveClassName={classes.active}>Music</NavLink>\r\n\t\t\t\t<NavLink to=\"/settings\" className={classes.navLink}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveClassName={classes.active}>Settings</NavLink>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport classes from \"./Sidebar.module.css\";\r\nimport Navbar from \"./Navbar/Navbar\";\r\n\r\nconst Sidebar = ()=>{\r\n\treturn(\r\n\t\t<div className={classes.sidebar}>\r\n\t\t\t<Navbar/>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Sidebar;","import React from \"react\";\r\nimport classes from \"./News.module.css\";\r\n\r\nconst News = ()=>{\r\n\treturn(\r\n\t\t<div className={classes.news}>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\nimport classes from \"./Settings.module.css\";\r\n\r\nconst Settings = ()=>{\r\n\treturn(\r\n\t\t<div className={classes.settings}>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport classes from \"./Music.module.css\";\r\n\r\nconst Music = ()=>{\r\n\treturn(\r\n\t\t<div className={classes.music}>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Music;","import React, {useState} from \"react\";\r\nimport classes from \"./Pagination.module.css\";\r\n\r\ntype PropsType = {\r\n\ttotalItemsCount: number\r\n\tpageSize: number\r\n\tcurrentPage: number\r\n\tonPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nexport const Pagination = (props: PropsType) => {\r\n\tlet pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n\tlet pages: Array<number> = []\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i)\r\n\t}\r\n\r\n\tconst portionSize = 10;\r\n\r\n\t// говорим сколько страниц хотим показыват на странице\r\n\tlet portionCount = Math.ceil(pagesCount / portionSize)\r\n\tlet [portionNumber, setPortionNumber] = useState(1)\r\n\t// находим первый элемент новой порции\r\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n\t// находим последний элемент новой страницы\r\n\tlet rightPortionPageNumber = (portionNumber) * portionSize;\r\n\r\n\r\n\treturn (\r\n\t\t<div className={classes.pagination}>\r\n\t\t\t<div>\r\n\t\t\t\t{portionNumber > 1 && <button className={classes.btnPrev} onClick={() => {\r\n\t\t\t\t\tsetPortionNumber(portionNumber - 1)\r\n\t\t\t\t}}>Prev</button>}\r\n\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\tpages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t\t\t.map(p => {\r\n\t\t\t\t\t\treturn <span className={props.currentPage === p ? classes.selectedPage : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t onClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t props.onPageChanged(p)\r\n\t\t\t\t\t\t\t\t\t\t\t\t }}>{p}</span>\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t<div>\r\n\t\t\t\t{portionCount > portionNumber && <button className={classes.btnNext} onClick={() => {\r\n\t\t\t\t\tsetPortionNumber(portionNumber + 1)\r\n\t\t\t\t}}>Next</button>}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}","import React from \"react\";\r\nimport classes from \"./Users.module.css\";\r\nimport userPhoto from \"../../../../assets/images/user.png\";\r\nimport {UsersObjType} from \"../../../../redux/userReducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Pagination} from \"../../../../common/Pagination/Pagination\";\r\n\r\ntype PropsType = {\r\n\tuser: UsersObjType\r\n\tfollow: (userId: number) => void\r\n\tunFollow: (userId: number) => void\r\n\tfollowingProgress: [] | Array<number>\r\n}\r\n\r\nexport const User = (props: PropsType) => {\r\n\r\n\tlet user = props.user\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<NavLink to={'/profile/' + user.id}>\r\n\t\t\t\t\t\t\t\t<img src={user.photos.small !== null ? user.photos.small : userPhoto} alt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t className={classes.userPhoto}/>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tuser.followed\r\n\t\t\t\t\t\t\t\t\t? <button disabled={props.followingProgress.some(id => id === user.id)} onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tprops.unFollow(user.id)\r\n\t\t\t\t\t\t\t\t\t}}>Unfollow</button>\r\n\t\t\t\t\t\t\t\t\t: <button disabled={props.followingProgress.some(id => id === user.id)} onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tprops.follow(user.id)\r\n\t\t\t\t\t\t\t\t\t}}>Follow</button>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<div>{user.name}</div>\r\n\t\t\t\t\t\t\t<div>{user.status}</div>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<div>{'user.location.country'}</div>\r\n\t\t\t\t\t\t\t<div>{'user.location.city'}</div>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t</div>\r\n\t)\r\n}","import React from \"react\";\r\nimport {UsersObjType} from \"../../../../redux/userReducer\";\r\nimport {Pagination} from \"../../../../common/Pagination/Pagination\";\r\nimport {User} from \"./User\";\r\n\r\ntype PropsType = {\r\n\tusers: Array<UsersObjType>\r\n\ttotalUsersCount: number\r\n\tpageSize: number\r\n\tcurrentPage: number\r\n\tonPageChanged: (pageNumber: number) => void\r\n\tfollow: (userId: number) => void\r\n\tunFollow: (userId: number) => void\r\n\tfollowingProgress: [] | Array<number>\r\n}\r\n\r\nlet Users = (props: PropsType) => {\r\n\treturn <>\r\n\t\t\t<Pagination currentPage={props.currentPage}\r\n\t\t\t\t\t\t\t\t\tonPageChanged={props.onPageChanged}\r\n\t\t\t\t\t\t\t\t\tpageSize={props.pageSize}\r\n\t\t\t\t\t\t\t\t\ttotalItemsCount={props.totalUsersCount}/>\r\n\t\t\t{props.users.map(u => <User key={u.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t unFollow={props.unFollow}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t follow={props.follow}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t user={u}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t followingProgress={props.followingProgress}/>)}\r\n\t</>\r\n}\r\n\r\nexport default Users","import {createSelector} from \"reselect\";\r\nimport {UsersObjType} from \"./userReducer\";\r\n\r\n\r\nconst getUsersSelector = (state: any) => {\r\n\treturn state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,(users: Array<UsersObjType>) => {\r\n\treturn users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state: any) => {\r\n\treturn state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state: any) => {\r\n\treturn state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: any) => {\r\n\treturn state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: any) => {\r\n\treturn state.usersPage.isFetching\r\n}\r\nexport const getFollowingProgress = (state: any) => {\r\n\treturn state.usersPage.followingProgress\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n\tfollow, requestUsers,\r\n\tsetCurrentPage, toggleFollowingProgress,\r\n\tunFollow,\r\n\tUsersObjType\r\n} from \"../../../../redux/userReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../../../common/preloader/Preloader\";\r\nimport {rootReducers} from \"../../../../redux/redux-store\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n\tgetCurrentPage, getFollowingProgress,\r\n\tgetIsFetching,\r\n\tgetPageSize,\r\n\tgetTotalUsersCount, getUsers,\r\n} from \"../../../../redux/users-selectors\";\r\n\r\nexport type ReactComponentType = {\r\n\tusers: Array<UsersObjType>\r\n\tsetUsers: (users: Array<UsersObjType>) => void\r\n\tfollow: (userId: number) => void\r\n\tunFollow: (userId: number) => void\r\n\tsetCurrentPage: (pageNumber: number) => void\r\n\tpageSize: number\r\n\ttotalUsersCount: number\r\n\tcurrentPage: number\r\n\tsetTotalUsersCount: (totalCount: number) => void\r\n\tisFetching: boolean\r\n\ttoggleIsFetching: (isFetching: boolean) => void\r\n\ttoggleFollowingProgress: (isFetching: boolean) => void\r\n\tfollowingProgress: Array<number>\r\n\r\n}\r\n\r\nclass UsersContainer extends React.Component<any> {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n\t}\r\n\r\n\tonPageChanged = (pageNumber: number) => {\r\n\t\tthis.props.getUsers(pageNumber, this.props.pageSize);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t{this.props.isFetching ? <Preloader/> : null}\r\n\t\t\t<Users totalUsersCount={this.props.totalUsersCount}\r\n\t\t\t\t\t\t pageSize={this.props.pageSize}\r\n\t\t\t\t\t\t currentPage={this.props.currentPage}\r\n\t\t\t\t\t\t onPageChanged={this.onPageChanged}\r\n\t\t\t\t\t\t users={this.props.users}\r\n\t\t\t\t\t\t follow={this.props.follow}\r\n\t\t\t\t\t\t unFollow={this.props.unFollow}\r\n\t\t\t\t\t\t followingProgress={this.props.followingProgress}/>\r\n\t\t</>\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state: rootReducers) => {\r\n\treturn {\r\n\t\tusers: getUsers(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingProgress: getFollowingProgress(state)\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {follow, unFollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers}))\r\n(UsersContainer)","import React from \"react\";\r\nimport classes from './HeaderSearch.module.css'\r\nconst HeaderSearch = ()=>{\r\n\treturn(\r\n\t\t<div className={classes.headerSearch}>\r\n\t\t\t<input type=\"text\" placeholder={'search'}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default HeaderSearch;","import React from \"react\";\r\nimport classes from \"./HeaderProfileLink.module.css\";\r\nimport avatar from \"../../../common/Avatar/avatar.jpg\";\r\n\r\nconst HeaderProfileLink = ()=>{\r\n\treturn(\r\n\t\t<div className={classes.headerProfileLink}>\r\n\t\t\t<a href=\"#\"><img src={avatar} alt=\"\"/></a>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default HeaderProfileLink;","import React from \"react\";\r\nimport classes from './Header.module.css'\r\nimport HeaderSearch from \"./Search/HeaderSearch\";\r\nimport HeaderProfileLink from \"./HeaderProfileLink/HeaderProfileLink\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n\tisAuth: boolean\r\n\tlogin: string\r\n\tlogout: any\r\n}\r\n\r\nconst Header = (props: PropsType) => {\r\n\treturn (\r\n\t\t<div className={classes.header}>\r\n\t\t\t<div className={classes.homeLink}>\r\n\t\t\t\t<a href=\"#\">HOME</a>\r\n\t\t\t</div>\r\n\t\t\t<div className={classes.logo}>\r\n\t\t\t\tDENZIMM Social Network\r\n\t\t\t</div>\r\n\t\t\t<div className={classes.loginBlock}>\r\n\t\t\t\t{props.isAuth ?\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{props.login} - <button onClick={props.logout}> Log out </button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t : <NavLink to={'/login'}>Login</NavLink>}\r\n\t\t\t</div>\r\n\t\t\t<HeaderSearch/>\r\n\t\t\t<HeaderProfileLink/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\nimport {rootReducers} from \"../../redux/redux-store\";\r\n\r\nclass HeaderContainer extends React.Component<any, any> {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Header isAuth={this.props.isAuth} login={this.props.login} logout={this.props.logout}/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state: rootReducers) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\r\nimport {InjectedFormProps} from \"redux-form\";\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {Input} from \"../../common/FormsControlls/FormsControlls\";\r\nimport {requiredField} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport classes from './../../common/FormsControlls/FormsControlls.module.css';\r\n\r\n\r\ntype FormDataType = {\r\n\temail: string\r\n\tpassword: string\r\n\trememberMe: boolean\r\n}\r\n\r\n\r\nconst Login = (props: any) => {\r\n\r\n\tconst onSubmit = (formData: FormDataType) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe)\r\n\t}\r\n\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={'/profile'}/>\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>LOGIN</h1>\r\n\t\t\t<LoginReduxForm onSubmit={onSubmit}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit, error}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field type=\"text\" validate={[requiredField]} placeholder={'Email'} name={'email'} component={Input}/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field type=\"password\" validate={[requiredField]} placeholder={'Password'} name={'password'} component={Input}/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field type=\"checkbox\" validate={[]} name={'rememberMe'} component={Input}/> remember me\r\n\t\t\t</div>\r\n\t\t\t{error && <div className={classes.formSummaryError}>\r\n\t\t\t\t{error}\r\n      </div>}\r\n\t\t\t<div>\r\n\t\t\t\t<button>Login</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\nconst mapStateToProps = (state: any) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth\r\n\t}\r\n}\r\nexport default connect(mapStateToProps, {login})(Login)","import React, {Suspense} from 'react';\nimport './App.css';\nimport Sidebar from \"./components/Sidebar/Sidebar\";\nimport {Route, withRouter} from \"react-router-dom\";\nimport News from \"./components/Sidebar/Navbar/News/News\";\nimport Settings from \"./components/Sidebar/Navbar/Settings/Settings\";\nimport Music from \"./components/Sidebar/Navbar/Music/Music\";\nimport UsersContainer from \"./components/Sidebar/Navbar/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-Reducer\";\nimport Preloader from \"./components/common/preloader/Preloader\";\nimport {WithSuspense} from \"./hoc/WithSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Sidebar/Navbar/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Sidebar/Navbar/Profile/ProfileContainer'));\n\n\nclass App extends React.Component<any, any> {\n\n\tcomponentDidMount() {\n\t\tthis.props.initializeApp()\n\t}\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Preloader/>\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<HeaderContainer/>\n\t\t\t\t<Sidebar/>\n\t\t\t\t<div className='content-wrapper'>\n\t\t\t\t\t<Route path={'/profile/:userId?'}\n\t\t\t\t\t\t\t\t render={WithSuspense(DialogsContainer)}/>\n\t\t\t\t\t<Route path={'/dialogs'} render={() => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Suspense fallback={<div>Loading...</div>}>\n\t\t\t\t\t\t\t\t<DialogsContainer/>\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}/>\n\t\t\t\t\t<Route path={'/users'} render={() => <UsersContainer/>}/>\n\t\t\t\t\t<Route path={'/music'} render={() => <Music/>}/>\n\t\t\t\t\t<Route path={'/news'} render={() => <News/>}/>\n\t\t\t\t\t<Route path={'/settings'} render={() => <Settings/>}/>\n\t\t\t\t\t<Route path={'/login'} render={() => <Login/>}/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state: any) => ({\n\tinitialized: state.app.initialized\n})\n\nexport default compose<React.ComponentType>(withRouter, connect(mapStateToProps, {initializeApp}))(App)","import React, {Suspense} from \"react\";\r\n\r\nexport const WithSuspense = (Component: any) => {\r\n\treturn (props: any)=>{\r\n\t\treturn(\r\n\t\t\t\t<Suspense fallback={<div>Loading...</div>}>\r\n\t\t\t\t\t<Component {...props}/>\r\n\t\t\t\t</Suspense>\r\n\t\t\t)\r\n\t}\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport {store} from \"./redux/redux-store\";\nimport {Provider} from \"react-redux\";\nimport App from \"./App\";\nimport {BrowserRouter} from \"react-router-dom\";\n\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<Provider store={store}>\n\t\t\t<App/>\n\t\t</Provider>\n\t</BrowserRouter>\n\t,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControlls_formControl__1I40l\",\"error\":\"FormsControlls_error__3gL0C\",\"formSummaryError\":\"FormsControlls_formSummaryError__2vRnd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__2qdcq\",\"btnPrev\":\"Pagination_btnPrev__3karp\",\"btnNext\":\"Pagination_btnNext__3Zx_b\",\"selectedPage\":\"Pagination_selectedPage__RyZik\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__M-TVf\",\"logo\":\"Header_logo__3wrAR\"};","import preloader from \"../../../assets/images/preloader.gif\";\r\nimport React from \"react\";\r\n\r\n\r\nconst Preloader = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<img src={preloader} alt={''} style={{width: '60px', height: '60px'}}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Preloader;\r\n","import React from \"react\";\r\nimport classes from \"./FormsControlls.module.css\";\r\n\r\n\r\nexport const FormControl = ({input, meta, child, ...props}: any)=>{\r\n\tconst hasError = meta.touched && meta.error\r\n\treturn (\r\n\t\t<div className={classes.formControl + ' ' + (hasError ? classes.error : '')}>\r\n\t\t\t<div>\r\n\t\t\t\t{props.children}\r\n\t\t\t</div>\r\n\t\t\t{hasError && <span>{meta.error}</span>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const Textarea = (props:any) => {\r\n\tconst {input, meta, child, ...restProps} = props\r\n\treturn(<FormControl {...props}><textarea {...input} {...restProps}/></FormControl>)\r\n}\r\n\r\nexport const Input = (props: any) => {\r\n\tconst {input, meta, child, ...restProps} = props\r\n\treturn(<FormControl {...props}><input {...input} {...restProps}/></FormControl>)\r\n}","export const requiredField = (value: string) => {\r\n\tif (value) {\r\n\t\treturn undefined\r\n\t} else {\r\n\t\treturn 'Field is required'\r\n\t}\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n\tif (value.length > maxLength) {\r\n\t\treturn `Max length is ${maxLength} symbols`\r\n\t} else {\r\n\t\treturn undefined\r\n\t}\r\n}","import {ActionsTypes, AddPostActionType, ProfileType} from \"./store\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nexport type SetUserProfileType = {\r\n\ttype: typeof SET_USER_PROFILE\r\n\tprofile: ProfileType\r\n}\r\n\r\nconst initialState = {\r\n\t// inputValue: 'It-Inkubator',\r\n\tpostData: [\r\n\t\t{id: 1, name: 'Denis', text: 'Hi everyone! Today I\\'ve had a good day!!!', time: '1 minute ago'},\r\n\t],\r\n\tprofile: null,\r\n\tstatus: ''\r\n\r\n};\r\n\r\nexport const profileReducer = (state: ProfileType = initialState, action: ActionsTypes) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet stateCopy = {...state}\r\n\t\t\tif (action.inputValue) {\r\n\t\t\t\tstateCopy.postData = [...state.postData, {id: 2, name: 'Denis', text: action.inputValue, time: '2 minutes ago'}]\r\n\t\t\t\t// stateCopy.inputValue = '';\r\n\t\t\t}\r\n\t\t\treturn stateCopy;\r\n\t\t}\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const addPostActionCreator = (inputValue: string): AddPostActionType => {\r\n\treturn {\r\n\t\ttype: ADD_POST,\r\n\t\tinputValue: inputValue\r\n\t}\r\n}\r\nexport const setUserProfile = (profile: ProfileType): SetUserProfileType => {\r\n\treturn {\r\n\t\ttype: SET_USER_PROFILE,\r\n\t\tprofile\r\n\t}\r\n}\r\nexport const getUserProfile = (userId: number) => async (dispatch: Function) => {\r\n\tlet response = await usersAPI.getProfile(userId)\r\n\t\tdispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId: number) => async (dispatch: Function) => {\r\n\tlet response = await profileAPI.getStatus(userId)\r\n\t\tdispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Function) => {\r\n\tlet response = await profileAPI.updateStatus(status)\r\n\t\t\tif (response.data.resultCode === 0) {\r\n\t\t\t\tdispatch(setStatus(status))\r\n\t\t\t}\r\n}\r\n\r\nexport const setStatus = (status: string) => {\r\n\treturn {type: SET_STATUS, status}\r\n}","import {ActionsTypes, AddMessageActionType, DialogsType} from \"./store\";\r\n\r\nconst ADD_MESSAGE = 'ADD_MESSAGE';\r\n\r\n\r\nconst initialState = {\r\n\tnewMessageText: '',\r\n\tcontactsData: [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\tname: 'Mark Gruk',\r\n\t\t\tavatarUrl: 'https://media.gqitalia.it/photos/5ec3ca47a63ee8cb452d9ce4/16:9/w_1920,c_limit/Avatar.jpg'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\tname: 'Alina Morgunova',\r\n\t\t\tavatarUrl: 'https://media.gqitalia.it/photos/5ec3ca47a63ee8cb452d9ce4/16:9/w_1920,c_limit/Avatar.jpg'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 3,\r\n\t\t\tname: 'Rustam Gasanov',\r\n\t\t\tavatarUrl: 'https://media.gqitalia.it/photos/5ec3ca47a63ee8cb452d9ce4/16:9/w_1920,c_limit/Avatar.jpg'\r\n\t\t},\r\n\t],\r\n\tsentMessages: [\r\n\t\t{id: 1, text: 'Hello. My name is Denis'},\r\n\t\t{id: 2, text: 'What come over you ?'},\r\n\t\t{id: 3, text: 'Nice nice nice'}\r\n\t],\r\n\tgotMessages: [\r\n\t\t{id: 1, fullName: 'Mark', text: 'Hello. My name is Mark'},\r\n\t\t{id: 2, fullName: 'Mark', text: 'I live in Kiev'},\r\n\t],\r\n};\r\n\r\nexport const dialogsReducer = (state: DialogsType = initialState, action: ActionsTypes) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_MESSAGE:\r\n\t\t\tlet stateCopy = {...state}\r\n\t\t\tif (action.textAreaValue) {\r\n\t\t\t\tstateCopy.sentMessages = [...state.sentMessages, {id: 4, text: action.textAreaValue}]\r\n\t\t\t\tstateCopy.newMessageText = '';\r\n\t\t\t}\r\n\t\t\treturn stateCopy;\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const addMessageActionCreator = (textAreaValue: string | undefined): AddMessageActionType => {\r\n\treturn {\r\n\t\ttype: ADD_MESSAGE,\r\n\t\ttextAreaValue: textAreaValue\r\n\t}\r\n}"],"sourceRoot":""}